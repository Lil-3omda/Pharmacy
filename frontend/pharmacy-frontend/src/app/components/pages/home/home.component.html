<div class="home-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <div class="hero-content">
            <h1 class="hero-title">
              الصيدلية الإلكترونية
              <span class="text-primary">الموثوقة</span>
            </h1>
            <p class="hero-description">
              احصل على أدويتك بسهولة وأمان من منزلك. نوفر لك أفضل الأدوية بأسعار منافسة مع خدمة توصيل سريعة.
            </p>
            
            <div class="hero-actions">
              <ng-container *ngIf="!(currentUser$ | async); else authenticatedActions">
                <button mat-raised-button color="primary" size="large" (click)="navigateToRegister()" class="me-3">
                  <mat-icon>person_add</mat-icon>
                  ابدأ الآن
                </button>
                <button mat-stroked-button color="primary" (click)="navigateToLogin()">
                  <mat-icon>login</mat-icon>
                  تسجيل الدخول
                </button>
              </ng-container>
              
              <ng-template #authenticatedActions>
                <button mat-raised-button color="primary" size="large" (click)="navigateToMedicines()" class="me-3">
                  <mat-icon>medication</mat-icon>
                  تصفح الأدوية
                </button>
              </ng-template>
            </div>
          </div>
        </div>
        
        <div class="col-lg-6">
          <div class="hero-image">
            <img src="https://images.pexels.com/photos/3683074/pexels-photo-3683074.jpeg" 
                 alt="صيدلية حديثة" 
                 class="img-fluid rounded-lg">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2>لماذا تختار صيدليتنا؟</h2>
          <p class="text-muted">نقدم لك أفضل الخدمات الصيدلانية بمعايير عالمية</p>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-3 col-md-6 mb-4" *ngFor="let feature of heroFeatures">
          <div class="feature-card text-center">
            <div class="feature-icon">
              <mat-icon>{{ feature.icon }}</mat-icon>
            </div>
            <h5>{{ feature.title }}</h5>
            <p class="text-muted">{{ feature.description }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Categories Section -->
  <section class="categories-section">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2>فئات الأدوية</h2>
          <p class="text-muted">تصفح أدويتك حسب الفئة</p>
        </div>
      </div>
      
      <div class="row" *ngIf="!loading">
        <div class="col-lg-4 col-md-6 mb-4" *ngFor="let category of categories">
          <div class="category-card" (click)="navigateToMedicines(category.id)">
            <div class="category-content">
              <h5>{{ category.nameAr }}</h5>
              <p class="text-muted">{{ category.descriptionAr }}</p>
              <span class="medicine-count" *ngIf="category.medicineCount">
                {{ category.medicineCount }} دواء
              </span>
            </div>
            <div class="category-arrow">
              <mat-icon>arrow_back_ios</mat-icon>
            </div>
          </div>
        </div>
      </div>

      <div class="text-center mt-4">
        <button mat-raised-button color="primary" (click)="navigateToMedicines()">
          <mat-icon>medication</mat-icon>
          عرض جميع الأدوية
        </button>
      </div>
    </div>
  </section>

  <!-- Featured Medicines Section -->
  <section class="featured-medicines-section">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2>أحدث الأدوية</h2>
          <p class="text-muted">اكتشف أحدث الأدوية المتوفرة في صيدليتنا</p>
        </div>
      </div>
      
      <div class="row" *ngIf="!loading">
        <div class="col-lg-3 col-md-6 mb-4" *ngFor="let medicine of featuredMedicines">
          <div class="medicine-card" (click)="navigateToMedicineDetail(medicine.id)">
            <div class="medicine-image">
              <img [src]="medicine.imageUrl || 'https://images.pexels.com/photos/3683074/pexels-photo-3683074.jpeg'" 
                   [alt]="medicine.nameAr"
                   class="img-fluid">
              <div class="medicine-badges">
                <span class="badge badge-success" *ngIf="medicine.stockQuantity > 0">متوفر</span>
                <span class="badge badge-warning" *ngIf="medicine.stockQuantity === 0">نفد المخزون</span>
                <span class="badge badge-info" *ngIf="medicine.requiresPrescription">يحتاج وصفة</span>
              </div>
            </div>
            
            <div class="medicine-content">
              <h6>{{ medicine.nameAr }}</h6>
              <p class="text-muted medicine-category">{{ medicine.category?.nameAr }}</p>
              <div class="medicine-price">
                <span class="price">{{ medicine.price }} ريال</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Loading State -->
      <div class="text-center" *ngIf="loading">
        <mat-spinner diameter="50"></mat-spinner>
        <p class="mt-3 text-muted">جارٍ تحميل الأدوية...</p>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <div class="cta-content">
            <h2>ابدأ رحلتك الصحية معنا</h2>
            <p>انضم إلى آلاف العملاء الذين يثقون بخدماتنا الصيدلانية</p>
            <ng-container *ngIf="!(currentUser$ | async)">
              <button mat-raised-button color="accent" size="large" (click)="navigateToRegister()">
                <mat-icon>person_add</mat-icon>
                إنشاء حساب مجاني
              </button>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>